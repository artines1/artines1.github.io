<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Base</title>
    <script>
    function test_protocol(protocol) {
        let iframe0 = document.createElement("iframe");

        try {
            iframe0.height="1px";
            iframe0.width="1px";
            iframe0.style["border"]="0px";
            document.body.appendChild(iframe0);
            iframe0.contentWindow.location.href = protocol + ":";
            document.getElementById("list").innerHTML += "<li>" + protocol + " protocol: Installed</li>";
        } catch (e) {
            document.getElementById("list").innerHTML += `<li>${protocol} protocol: Not Installed with error ${e}</li>`;
        }
        iframe0.src="";
        iframe0.parentNode.removeChild(iframe0);
    }

    function start_test() {
        let protocol = document.getElementById("protocol_name").value;
        if (protocol) {
            test_protocol(protocol);
        }
    }
    </script>
</head>
<body>
    <p>Detect if users install certain softwares by attempting to open external protocols.</p>
    <ul id="list"></ul>
    Protocol: <input type="text" id="protocol_name">
    <input type="button" onclick="start_test()">
</body>
</html>
